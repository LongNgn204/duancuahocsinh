<p align="center">
  <img src="https://ui-avatars.com/api/?name=Ban+Dong+Hanh&background=8b5cf6&color=fff&size=200&rounded=true&bold=true" alt="Báº¡n Äá»“ng HÃ nh Logo" width="150"/>
</p>

<h1 align="center">Báº¡n Äá»“ng HÃ nh (The Companion)</h1>

<p align="center">
  <strong>Ná»n táº£ng há»— trá»£ sá»©c khá»e tinh tháº§n toÃ n diá»‡n dÃ nh cho há»c sinh Viá»‡t Nam ğŸ‡»ğŸ‡³</strong>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Status-Active-success?style=flat-square" alt="Status" />
  <img src="https://img.shields.io/badge/License-MIT-blue?style=flat-square" alt="License" />
  <img src="https://img.shields.io/badge/Frontend-React_18-61DAFB?style=flat-square&logo=react" alt="Frontend" />
  <img src="https://img.shields.io/badge/Backend-Cloudflare_Workers-F38020?style=flat-square&logo=cloudflare" alt="Backend" />
  <img src="https://img.shields.io/badge/AI-OpenRouter_&_Gemini-412991?style=flat-square&logo=google" alt="AI" />
</p>

<p align="center">
  <a href="https://bandonghanh.pages.dev">ğŸŒ Live Demo</a> |
  <a href="#-cÃ¢u-chuyá»‡n--sá»©-má»‡nh">ğŸ“– Sá»© Má»‡nh</a> |
  <a href="#-tÃ­nh-nÄƒng-chi-tiáº¿t">âœ¨ TÃ­nh NÄƒng</a> |
  <a href="#-kiáº¿n-trÃºc-há»‡-thá»‘ng">ğŸ— Kiáº¿n TrÃºc</a> |
  <a href="#-hÆ°á»›ng-dáº«n-cÃ i-Ä‘áº·t">ğŸ“¦ CÃ i Äáº·t</a>
</p>

---

## ğŸ“– CÃ¢u chuyá»‡n & Sá»© má»‡nh

**"KhÃ´ng ai pháº£i lá»›n lÃªn má»™t mÃ¬nh."**

Há»c sinh Viá»‡t Nam ngÃ y nay Ä‘á»‘i máº·t vá»›i Ã¡p lá»±c chÆ°a tá»«ng cÃ³: Ä‘iá»ƒm sá»‘, ká»³ vá»ng gia Ä‘Ã¬nh, peer pressure (Ã¡p lá»±c Ä‘á»“ng trang lá»©a), vÃ  sá»± bÃ¹ng ná»• cá»§a máº¡ng xÃ£ há»™i. Tuy nhiÃªn, rÃ o cáº£n tÃ i chÃ­nh vÃ  tÃ¢m lÃ½ e ngáº¡i phÃ¡n xÃ©t khiáº¿n cÃ¡c em khÃ³ tiáº¿p cáº­n cÃ¡c dá»‹ch vá»¥ tham váº¥n tÃ¢m lÃ½ chuyÃªn nghiá»‡p.

**Báº¡n Äá»“ng HÃ nh** ra Ä‘á»i Ä‘á»ƒ láº¥p Ä‘áº§y khoáº£ng trá»‘ng Ä‘Ã³. KhÃ´ng chá»‰ lÃ  má»™t á»©ng dá»¥ng chat, Ä‘Ã¢y lÃ  má»™t **Há»‡ sinh thÃ¡i chá»¯a lÃ nh sá»‘ (Digital Healing Ecosystem)**, nÆ¡i cÃ´ng nghá»‡ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ sÆ°á»Ÿi áº¥m trÃ¡i tim con ngÆ°á»i.

---

## âœ¨ TÃ­nh nÄƒng chi tiáº¿t

### 1. ğŸ¤– AI Mentor & Companion (Trá»£ lÃ½ tÃ¢m lÃ½ áº£o)
*   **TrÃ² chuyá»‡n tá»± nhiÃªn:** Kháº£ nÄƒng tháº¥u cáº£m, nháº­n diá»‡n cáº£m xÃºc (Emotional Intelligence) vÃ  pháº£n há»“i nhÆ° má»™t ngÆ°á»i báº¡n thÃ¢n.
*   **Voice Chat:** TÆ°Æ¡ng tÃ¡c báº±ng giá»ng nÃ³i 2 chiá»u, táº¡o cáº£m giÃ¡c gáº§n gÅ©i nhÆ° Ä‘ang gá»i Ä‘iá»‡n thoáº¡i.
*   **Context-Aware:** AI nhá»› ngá»¯ cáº£nh trÃ² chuyá»‡n, tÃªn ngÆ°á»i dÃ¹ng, vÃ  nhá»¯ng cÃ¢u chuyá»‡n cÅ©.
*   **Safety First (An toÃ n lÃ  trÃªn háº¿t):** Há»‡ thá»‘ng SOS Ä‘a táº§ng tá»± Ä‘á»™ng phÃ¡t hiá»‡n cÃ¡c tá»« khÃ³a nguy hiá»ƒm (tá»± tá»­, tá»± háº¡i) Ä‘á»ƒ Ä‘Æ°a ra lá»i khuyÃªn can thiá»‡p vÃ  cung cáº¥p sá»‘ hotline báº£o vá»‡ tráº» em (111).
*   **Há»— trá»£ há»c táº­p:** Hiá»ƒn thá»‹ cÃ´ng thá»©c ToÃ¡n/LÃ½/HÃ³a chuáº©n LaTeX Ä‘áº¹p máº¯t.

### 2. ğŸ“Š Real-time Dashboard & Gamification
*   **Streak & Check-in:** Khuyáº¿n khÃ­ch ngÆ°á»i dÃ¹ng quay láº¡i má»—i ngÃ y Ä‘á»ƒ chÄƒm sÃ³c báº£n thÃ¢n.
*   **Thá»‘ng kÃª cáº£m xÃºc:** Biá»ƒu Ä‘á»“ theo dÃµi tÃ¢m tráº¡ng hÃ ng tuáº§n, giÃºp ngÆ°á»i dÃ¹ng nháº­n diá»‡n pattern cáº£m xÃºc cá»§a mÃ¬nh.
*   **Há»‡ thá»‘ng XP & Level:** Biáº¿n viá»‡c tá»± chÄƒm sÃ³c báº£n thÃ¢n thÃ nh má»™t hÃ nh trÃ¬nh thÃº vá»‹.

### 3. ğŸ§  GÃ³c Kiáº¿n Thá»©c (Knowledge Hub) - *Má»›i!*
*   **ThÆ° viá»‡n bÃ i viáº¿t:** 15+ chá»§ Ä‘á» chuyÃªn sÃ¢u vá» tÃ¢m lÃ½ tuá»•i dáº­y thÃ¬, hÆ°á»›ng nghiá»‡p (Ikigai), an toÃ n máº¡ng (Cyber Safety), vÃ  tÃ i chÃ­nh cÃ¡ nhÃ¢n.
*   **Tráº£i nghiá»‡m Ä‘á»c:** Giao diá»‡n táº­p trung (Focus Mode), lÆ°á»›t mÆ°á»£t mÃ  trÃªn di Ä‘á»™ng.
*   **TÃ¬m kiáº¿m thÃ´ng minh:** Tra cá»©u nhanh cÃ¡c váº¥n Ä‘á» Ä‘ang gáº·p pháº£i.

### 4. ğŸ§˜ Wellness Center (Trung tÃ¢m An YÃªn)
*   **BÃ i táº­p thá»Ÿ 4-7-8 & Box Breathing:** CÃ³ hoáº¡t hoáº¡ hÆ°á»›ng dáº«n trá»±c quan giÃºp giáº£m stress tá»©c thÃ¬.
*   **Lá» Biáº¿t Æ n:** Thá»±c hÃ nh lÃ²ng biáº¿t Æ¡n má»—i ngÃ y Ä‘á»ƒ nuÃ´i dÆ°á»¡ng tÆ° duy tÃ­ch cá»±c.
*   **Ã‚m thanh trá»‹ liá»‡u:** Tiáº¿ng mÆ°a, tiáº¿ng rá»«ng, sÃ³ng biá»ƒn, white noise...
*   **GÃ³c riÃªng tÆ°:** NÆ¡i viáº¿t nháº­t kÃ½ báº£o máº­t.

### 5. ğŸ® Game Therapy (Trá»‹ liá»‡u qua trÃ² chÆ¡i)
*   **Bubble Pop:** Xáº£ cÆ¡n giáº­n/stress báº±ng cÃ¡ch Ä‘áº­p bong bÃ³ng áº£o.
*   **Color Match:** RÃ¨n luyá»‡n sá»± táº­p trung vÃ  chÃ¡nh niá»‡m.
*   **Memory Flip:** Cáº£i thiá»‡n trÃ­ nhá»› ngáº¯n háº¡n.

---

## ğŸ— Kiáº¿n trÃºc Há»‡ thá»‘ng

Dá»± Ã¡n Ã¡p dá»¥ng kiáº¿n trÃºc **Serverless** hiá»‡n Ä‘áº¡i, Ä‘áº£m báº£o tá»‘c Ä‘á»™ cao, chi phÃ­ tháº¥p vÃ  kháº£ nÄƒng má»Ÿ rá»™ng khÃ´ng giá»›i háº¡n.

### SÆ¡ Ä‘á»“ tá»•ng quan

```mermaid
graph TD
    User[NgÆ°á»i dÃ¹ng ğŸ§‘â€ğŸ“] -->|HTTPS| CF[Cloudflare Edge Network â˜ï¸]
    
    subgraph Frontend [React PWA]
        Store[Zustand State]
        Router[React Router]
        UI[Tailwind UI Components]
    end
    
    subgraph Backend [Cloudflare Workers]
        AuthW[Auth Worker]
        AIProxy[AI Proxy & Guardrails]
        DataW[Data API]
    end
    
    subgraph Database [Cloudflare D1]
        UserDB[(Users Table)]
        ChatDB[(Chat Logs)]
        StatsDB[(Streaks/Stats)]
    end
    
    subgraph AI_Services [External AI]
        OR[OpenRouter API]
        Gemini[Google Gemini Flash]
        Mistral[Mistral AI]
        DDG[DuckDuckGo Search]
    end

    CF --> Frontend
    CF --> Backend
    
    Frontend <--> Backend
    Backend <--> Database
    Backend <--> AI_Services
    AIProxy -->|Filter/RegEx| AI_Services
```

### Luá»“ng Authentication & Data Sync

```mermaid
sequenceDiagram
    participant U as User
    participant FE as Frontend
    participant BE as Backend
    participant DB as D1 Database

    U->>FE: ÄÄƒng nháº­p
    FE->>BE: POST /api/auth/login
    BE->>DB: XÃ¡c thá»±c & Láº¥y User Stats
    DB-->>BE: User Info + Streak + Chat Count
    BE-->>FE: Token (JWT) + Data
    FE->>FE: LÆ°u vÃ o LocalStorage & Context
    
    Note over U, FE: Khi chat vá»›i AI
    U->>FE: Gá»­i tin nháº¯n
    FE->>BE: Stream Request
    BE->>BE: Kiá»ƒm duyá»‡t ná»™i dung (SOS Check)
    BE-->>FE: Stream Response (SSE)
    FE->>BE: Background Sync (LÆ°u lá»‹ch sá»­)
    BE->>DB: INSERT tin nháº¯n
```

---

## ğŸ›  CÃ´ng nghá»‡ sá»­ dá»¥ng (Tech Stack)

| LÄ©nh vá»±c | CÃ´ng nghá»‡ chÃ­nh | Táº¡i sao chá»n? |
| :--- | :--- | :--- |
| **Frontend** | React 18, Vite 6 | Hiá»‡u nÄƒng cao, DX (Developer Experience) tá»‘t nháº¥t hiá»‡n nay. |
| **Language** | JavaScript (ES6+) | Linh hoáº¡t, phá»• biáº¿n. |
| **Styling** | Tailwind CSS 4 | PhÃ¡t triá»ƒn giao diá»‡n cá»±c nhanh, bundle size nhá». |
| **Animation** | Framer Motion | Táº¡o cÃ¡c chuyá»ƒn Ä‘á»™ng mÆ°á»£t mÃ , cáº£m xÃºc (quan trá»ng cho app trá»‹ liá»‡u). |
| **State** | Zustand + Context API | Quáº£n lÃ½ state Ä‘Æ¡n giáº£n, hiá»‡u quáº£ hÆ¡n Redux. |
| **Math Render** | KaTeX + Remark/Rehype | Hiá»ƒn thá»‹ cÃ´ng thá»©c ToÃ¡n há»c chuáº©n chá»‰, nhanh hÆ¡n MathJax. |
| **Backend** | Cloudflare Workers | Serverless, Edge computing (Ä‘á»™ trá»… = 0), miá»…n phÃ­ hÃ o phÃ³ng. |
| **Database** | Cloudflare D1 (SQLite) | CSDL quan há»‡ phÃ¢n tÃ¡n, truy váº¥n SQL máº¡nh máº½. |
| **AI Model** | Gemini Flash / Mistral | ThÃ´ng minh, tá»‘c Ä‘á»™ pháº£n há»“i nhanh, chi phÃ­ há»£p lÃ½ qua OpenRouter. |

---

## ğŸ“ Cáº¥u trÃºc thÆ° má»¥c

```bash
duancuahocsinh/
â”œâ”€â”€ frontend/                 # React Application
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # UI Blocks (Buttons, Cards, Modals...)
â”‚   â”‚   â”œâ”€â”€ pages/            # CÃ¡c mÃ n hÃ¬nh chÃ­nh (Dashboard, Chat...)
â”‚   â”‚   â”œâ”€â”€ services/         # API Calls (auth, chat, data)
â”‚   â”‚   â”œâ”€â”€ hooks/            # Custom Logic (useAuth, useAI)
â”‚   â”‚   â”œâ”€â”€ data/             # Static Content (Articles, Quotes, Stories)
â”‚   â”‚   â””â”€â”€ utils/            # Helper functions
â”‚   â””â”€â”€ package.json          # Dependencies
â”‚
â”œâ”€â”€ backend/                  # Serverless Backend
â”‚   â”œâ”€â”€ workers/
â”‚   â”‚   â”œâ”€â”€ router.js         # API Entry Point & Routing
â”‚   â”‚   â”œâ”€â”€ auth.js           # Xá»­ lÃ½ ÄÄƒng kÃ½/ÄÄƒng nháº­p
â”‚   â”‚   â”œâ”€â”€ ai-proxy.js       # Xá»­ lÃ½ Prompt, Streaming, Tool Use
â”‚   â”‚   â”œâ”€â”€ data-api.js       # Xá»­ lÃ½ Check-in, Stats
â”‚   â”‚   â””â”€â”€ schema.sql        # Cáº¥u trÃºc Database
â”‚   â”œâ”€â”€ wrangler.toml         # Cáº¥u hÃ¬nh Cloudflare
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ README.md                 # TÃ i liá»‡u nÃ y
```

---

## ğŸ“¦ HÆ°á»›ng dáº«n cÃ i Ä‘áº·t & Triá»ƒn khai

Äá»ƒ cháº¡y dá»± Ã¡n nÃ y trÃªn mÃ¡y local cá»§a báº¡n:

### 1. Chuáº©n bá»‹ (Prerequisites)
*   Node.js v18 trá»Ÿ lÃªn.
*   TÃ i khoáº£n Cloudflare (Ä‘á»ƒ cháº¡y backend/database).
*   Git.

### 2. CÃ i Ä‘áº·t Backend (Cloudflare Workers)

```bash
# Clone dá»± Ã¡n
git clone https://github.com/LongNgn204/duancuahocsinh.git
cd duancuahocsinh/backend

# CÃ i Ä‘áº·t thÆ° viá»‡n
npm install

# ÄÄƒng nháº­p Cloudflare
npx wrangler login

# Táº¡o Database D1
npx wrangler d1 create ban_dong_hanh_db

# Cháº¡y lá»‡nh táº¡o báº£ng (Migration)
npx wrangler d1 execute ban_dong_hanh_db --local --file=./workers/schema.sql

# Cháº¡y server development
npm run dev
# Server sáº½ cháº¡y táº¡i: http://localhost:8787
```

> **LÆ°u Ã½:** Cáº­p nháº­t `wrangler.toml` vá»›i `database_id` báº¡n vá»«a táº¡o Ä‘Æ°á»£c.

### 3. CÃ i Ä‘áº·t Frontend

```bash
cd ../frontend

# CÃ i Ä‘áº·t thÆ° viá»‡n
npm install

# Táº¡o file mÃ´i trÆ°á»ng
# (Windows CMD)
echo VITE_API_URL=http://localhost:8787 > .env.local

# Cháº¡y á»©ng dá»¥ng
npm run dev
# App sáº½ cháº¡y táº¡i: http://localhost:5173
```

### 4. Deploy lÃªn Production

```bash
# Deploy Backend
cd backend
npm run deploy

# Deploy Frontend
cd frontend
npm run deploy
```

---

## ğŸ¤ ÄÃ³ng gÃ³p (Contributing)

Má»i sá»± Ä‘Ã³ng gÃ³p Ä‘á»u Ä‘Ã¡ng quÃ½ Ä‘á»ƒ giÃºp dá»± Ã¡n hoÃ n thiá»‡n hÆ¡n!
1.  Fork repo nÃ y.
2.  Táº¡o branch tÃ­nh nÄƒng (`git checkout -b feature/TinhNangMoi`).
3.  Commit thay Ä‘á»•i (`git commit -m 'ThÃªm tÃ­nh nÄƒng X'`).
4.  Push lÃªn branch (`git push origin feature/TinhNangMoi`).
5.  Táº¡o Pull Request.

---

## ğŸ“„ License

Dá»± Ã¡n Ä‘Æ°á»£c phÃ¡t hÃ nh dÆ°á»›i giáº¥y phÃ©p **MIT License**.
Copyright Â© 2024-2026 **Team Báº¡n Äá»“ng HÃ nh**.

---

<p align="center">
  <i>ÄÆ°á»£c xÃ¢y dá»±ng vá»›i â¤ï¸ vÃ  niá»m tin vÃ o má»™t tháº¿ há»‡ tráº» khá»e máº¡nh vá» tinh tháº§n.</i>
</p>
